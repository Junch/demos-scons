env_opt=Environment(PROGSUFFIX='.elf')
env_opt.Append(CFLAGS="-O2")
o1_opt=env_opt.Object(source='main.c',target='objects/opt/main.o')
o2_opt=env_opt.Object(source='add.c',target='objects/opt/add.o')
env_opt.Program(target='bin/opt/main',source=[ o1_opt, o2_opt ])

env_debug=Environment(PROGSUFFIX='.elf')
env_debug.Append(CFLAGS="-g")
o1_debug=env_debug.Object(source='main.c',target='objects/debug/main.o')
o2_debug=env_debug.Object(source='add.c',target='objects/debug/add.o')
env_debug.Program(target='bin/debug/main',source=[ o1_debug, o2_debug ])
