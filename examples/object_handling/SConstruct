env_bin_opt=Environment(PROGSUFFIX='.elf')
env_bin_opt.Append(CFLAGS="-O2")
o1_bin_opt=env_bin_opt.Object(source='main.c',target='objects/bin/opt/main.o')
o2_bin_opt=env_bin_opt.Object(source='add.c',target='objects/bin/opt/add.o')
env_bin_opt.Program(target='bin/opt/main',source=[ o1_bin_opt, o2_bin_opt ])

env_bin_debug=Environment(PROGSUFFIX='.elf')
env_bin_debug.Append(CFLAGS="-g")
o1_bin_debug=env_bin_debug.Object(source='main.c',target='objects/bin/debug/main.o')
o2_bin_debug=env_bin_debug.Object(source='add.c',target='objects/bin/debug/add.o')
env_bin_debug.Program(target='bin/debug/main',source=[ o1_bin_debug, o2_bin_debug ])

env_sharedlib_debug=Environment(PROGSUFFIX='.elf')
env_sharedlib_debug.Append(CFLAGS="-g")
o1_sharedlib_debug=env_sharedlib_debug.SharedObject(source='main.c',target='objects/sharedlib/debug/main.o')
o2_sharedlib_debug=env_sharedlib_debug.SharedObject(source='add.c',target='objects/sharedlib/debug/add.o')
env_sharedlib_debug.SharedLibrary(target='sharedlib/debug/main',source=[ o1_sharedlib_debug, o2_sharedlib_debug ])
